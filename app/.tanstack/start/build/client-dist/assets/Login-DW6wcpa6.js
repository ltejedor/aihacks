import{u as i,l as u,j as s,s as m}from"./main-CSuwF7rr.js";import{u as o}from"./useMutation-Bt7B52c5.js";import{u as l,A as d}from"./Auth-D805vT05.js";function f(){const n=i(),a=o({fn:u,onSuccess:async e=>{var t;if(!((t=e.data)!=null&&t.error)){await n.invalidate(),n.navigate({to:"/"});return}}}),r=o({fn:l(m)});return s.jsx(d,{actionText:"Login",status:a.status,onSubmit:e=>{const t=new FormData(e.target);a.mutate({data:{email:t.get("email"),password:t.get("password")}})},afterSubmit:a.data?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-red-400",children:a.data.message}),a.data.error&&a.data.message==="Invalid login credentials"?s.jsx("div",{children:s.jsx("button",{className:"text-blue-500",onClick:e=>{const t=new FormData(e.target.form);r.mutate({data:{email:t.get("email"),password:t.get("password")}})},type:"button",children:"Sign up instead?"})}):null]}):null})}export{f as L};
