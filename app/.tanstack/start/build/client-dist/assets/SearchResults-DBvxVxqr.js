import{j as e,r as x}from"./main-BOSn1B_0.js";function f(t){const s=/https?:\/\/[^\s\n]+/g;return t.match(s)||[]}function c(t){const s=/(https?:\/\/[^\s\n]+)/g,n=t.split(s);return e.jsx("div",{className:"space-y-2",children:n.map((r,o)=>r.match(s)?e.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-emerald-400 transition-colors break-all block",children:["→ ",r]},o):e.jsx("span",{className:"whitespace-pre-wrap",children:r},o))})}function j({result:t,index:s=0}){const[n,r]=x.useState(!1),[o,h]=x.useState(!1),i=f(t.content),d=i.length>0,p=t.content.length>500,m=a=>typeof window<"u"?`${window.location.origin}/resource/${a}`:`/resource/${a}`,b=async a=>{try{await navigator.clipboard.writeText(a)}catch(l){console.error("Failed to copy to clipboard:",l)}},u=`animate-fadeInUp animate-stagger-${Math.min(s+1,5)}`;return e.jsxs("div",{className:`resource-card resource-card-enter ${u} bg-slate-900 border border-slate-700 rounded-lg mb-6 overflow-hidden`,children:[e.jsxs("div",{className:"bg-slate-800 border-b border-slate-700 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-slate-500 font-mono text-xs mb-1",children:["ID: ",t.metadata.resource_id]}),e.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-emerald-400 mb-2 leading-tight",children:t.metadata.title})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs font-mono ml-4",children:[e.jsxs("span",{className:"flex items-center gap-1 text-blue-400 animate-bounce-subtle",children:[e.jsx("span",{children:"↑"}),e.jsx("span",{children:t.metadata.reaction_count})]}),e.jsxs("span",{className:"flex items-center gap-1 text-slate-400",children:[e.jsx("span",{children:"★"}),e.jsx("span",{children:t.metadata.evergreen_rating})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:t.metadata.tags.map((a,l)=>e.jsx("span",{className:"inline-block bg-slate-700 text-emerald-400 text-xs px-2 py-1 font-mono rounded-md transition-all duration-200 hover:bg-emerald-500 hover:text-slate-900",children:a},l))}),e.jsx("div",{className:"text-xs font-mono text-slate-400",children:new Date(t.metadata.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs font-mono",children:[e.jsx("button",{onClick:()=>r(!n),className:"hacker-link transition-all duration-200 hover:animate-bounce-subtle",children:n?"Collapse":"Expand"}),e.jsx("button",{onClick:()=>b(m(t.metadata.resource_id)),className:"hacker-link transition-all duration-200 hover:animate-bounce-subtle",children:"Copy Link"}),e.jsx("a",{href:m(t.metadata.resource_id),target:"_blank",rel:"noopener noreferrer",className:"hacker-link transition-all duration-200 hover:animate-bounce-subtle",children:"Open Resource"})]})]}),e.jsxs("div",{className:"p-4 layout-transition",children:[n?e.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[e.jsx("div",{className:"text-slate-100 font-sans text-sm leading-relaxed",children:c(t.content)}),d&&e.jsxs("div",{className:"border-t border-slate-700 pt-4 animate-fadeInUp",children:[e.jsxs("h4",{className:"text-emerald-400 font-semibold text-sm mb-3",children:["Documentation Links (",i.length,")"]}),e.jsx("div",{className:"grid gap-2",children:i.map((a,l)=>e.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:`resource-grid-item flex items-center gap-2 p-2 bg-slate-700 border border-slate-600 hover:border-emerald-500 transition-all duration-200 rounded-md animate-fadeInUp animate-stagger-${Math.min(l+1,5)}`,children:[e.jsx("span",{className:"text-blue-400 font-mono",children:"→"}),e.jsx("span",{className:"text-blue-400 hover:text-emerald-400 text-xs break-all transition-colors",children:a})]},l))})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-slate-100 font-sans text-sm leading-relaxed",children:p?e.jsxs("div",{children:[e.jsxs("p",{className:"mb-2",children:[t.content.substring(0,300),"..."]}),e.jsx("button",{onClick:()=>h(!o),className:"hacker-link text-xs transition-all duration-200 hover:animate-bounce-subtle",children:o?"Hide Preview":"Show Preview"}),o&&e.jsx("div",{className:"mt-3 text-slate-100 font-sans text-sm leading-relaxed animate-fadeIn",children:c(t.content)})]}):c(t.content)}),d&&e.jsxs("div",{className:"border-t border-slate-700 pt-3 animate-fadeInUp",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-emerald-400 font-semibold text-xs",children:"Links:"})}),e.jsxs("div",{className:"grid gap-1",children:[i.slice(0,3).map((a,l)=>e.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"resource-grid-item flex items-center gap-2 text-xs text-blue-400 hover:text-emerald-400 transition-all duration-200",children:[e.jsx("span",{className:"text-blue-400",children:"→"}),e.jsx("span",{className:"truncate",children:a})]},l)),i.length>3&&e.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["... and ",i.length-3," more link",i.length-3===1?"":"s"]})]})]})]}),t.similarity&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-700 text-xs font-mono text-slate-500",children:["Similarity: ",(t.similarity*100).toFixed(1),"%"]})]})]})}function N({results:t,isLoading:s}){return s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-emerald-400 font-mono text-sm agent-thinking",children:"Searching..."}),e.jsx("div",{className:"text-slate-400 font-sans text-sm mt-2 animate-pulse-subtle",children:"Finding the most relevant resources for you"})]}):t.length===0?e.jsxs("div",{className:"text-center py-8 animate-fadeIn",children:[e.jsx("div",{className:"text-red-500 font-mono text-sm mb-2",children:"No results found"}),e.jsx("div",{className:"text-slate-400 font-sans text-sm",children:"Try adjusting your search query or explore our trending resources"})]}):e.jsxs("div",{className:"search-results-container space-y-6",children:[e.jsxs("div",{className:"text-emerald-400 font-mono text-sm mb-4 border-b border-slate-700 pb-2 animate-fadeIn",children:["Found ",t.length," results"]}),e.jsx("div",{className:"resource-grid",children:t.map((n,r)=>e.jsx(j,{result:n,index:r},n.id))})]})}export{N as S};
